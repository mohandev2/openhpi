iLO2 RIBCL Plug-in

The iLO2 RIBCL Plug-in is an interface to Hewlett Packard ProLiant rack-mount
servers which uses Remote Insight Board Command Language (RIBCL) to communicate
with the on-board Integrated Lights-Out 2 (iLO2) management processor.
Technical information about about iLO2, including the HP Integrated
Lights-Out 2 User Guide mentioned below, can be found at
www.hp.com/servers/lights-out.

This plug-in is called ilo2_ribcl in the OpenHPI tree, and is referenced by the
name libilo2_ribcl in all OpenHPI configuration files.

Testing has been performed on HP Proliant DL360, DL365, DL380, and DL385
systems. The DL580 and DL585 systems are currently not supported.

Prerequisites

The ilo2_ribcl plugin is built by default in the OpenHPI build process. To
disable the building of this plugin, add the configure flag
--disable-ilo2_ribcl during the configure process.

This plugin requires the openssl-devel and libxml2-devel packages installed
in order to successfully build. Most testing has been performed with 
openssl-devel version >= 0.9.8a and libxml2-devel version >= 2.6.23. The
latest version available for your distribution is recommended.

This plugin also requires the iLO2 firmware version to be >= 1.10 on all target
systems to be managed. See the HP Integrated Lights-Out 2 User Guide for
detailed instructions on performing the firmware upgrade. 

Configuration

You must set up a user account on the iLO2 management processor for each
Proliant server that you wish to manage. iLO2 is configured at the factory
with a default user name and password, which can be found on the iLO2 Network
Settings tag attached to the server. HP recommends changing this default
username and password after logging in to iLO2 for the first time.

iLO2 supports several interfaces for configuration. To setup or change the
login and/or password, refer to the HP Integrated Lights-Out 2 User Guide,
chapters "iLO2 setup" and "Configuring iLO2".

This user account must have the "Virtual Power and Reset" privilege
in order to support any HPI API that involves power control or reset.

Below is an example configuration stanza for the ilo2_ribcl plugin:

	handler libilo2_ribcl {
		entity_root = "{RACK_MOUNTED_SERVER,8}"
		ilo2_ribcl_hostname = "x.x.x.x"  # iLO2 IP address
		ilo2_ribcl_portstr = "443" # iLO2 RIBCL SSL server port number
		ilo2_ribcl_username = "username" # iLO2 username
		ilo2_ribcl_password = "password" # iLO2 password
	}

You will need to update the entries for your particular configuration.
The login and password in the configuration file must correspond to an
iLO2 local user name and password. 

The value of ilo2_ribcl_hostname should be set to the TCP/IP address of
the iLO2 on the system you wish to manage.

The value of ilo2_ribcl_portstr specifies the Web Server SSL Port used
by iLO2. The default configuration value is 443. Only change this value
if you have changed the Web Server SSL Port configuration in iLO2.

Supported APIs

The current implementation of the plug-in supports the following SAF APIs in addition to the ones that are supported by the OpenHPI infrastructure by default:

	saHpiDiscover
	saHpiResourceDiscover
	saHpiEventGet
	saHpiResourceSeveritySet
	saHpiResourceTagSet
	saHpiResourceResetStateGet
	saHpiResourceResetStateSet
	saHpiResourcePowerStateGet
	saHpiResourcePowerStateSet

There are no hot swappable components in Hewlett Packard Proliant rack-mount servers. As a result the plug-in implements the Simple Hot Swap Model for FRUs such as CPUs, Memory Modules, Fans, and Power Supplies.

The following is a sample hpitop output for each of the supported ProLiant Rack Mount Servers:

DL360 G5

{RACK_MOUNTED_SERVER,8}
    |
    +--- {RACK_MOUNTED_SERVER,8}
    |
    +--- {RACK_MOUNTED_SERVER,8}{PROCESSOR,1}
    |
    +--- {RACK_MOUNTED_SERVER,8}{PROCESSOR,2}
    |
    +--- {RACK_MOUNTED_SERVER,8}{MEMORY_DEVICE,1}
    |
    +--- {RACK_MOUNTED_SERVER,8}{MEMORY_DEVICE,3}
    |
    +--- {RACK_MOUNTED_SERVER,8}{POWER_MODULE,1}
    |
    +--- {RACK_MOUNTED_SERVER,8}{POWER_MODULE,2}
    |
    +--- {RACK_MOUNTED_SERVER,8}{COOLING_DEVICE,1}
    |
    +--- {RACK_MOUNTED_SERVER,8}{COOLING_DEVICE,2}
    |
    +--- {RACK_MOUNTED_SERVER,8}{COOLING_DEVICE,3}
    |
End of {RACK_MOUNTED_SERVER,8}

DL365 G1

{RACK_MOUNTED_SERVER,9}
    |
    +--- {RACK_MOUNTED_SERVER,9}
    |
    +--- {RACK_MOUNTED_SERVER,9}{PROCESSOR,1}
    |
    +--- {RACK_MOUNTED_SERVER,9}{PROCESSOR,2}
    |
    +--- {RACK_MOUNTED_SERVER,9}{MEMORY_DEVICE,1}
    |
    +--- {RACK_MOUNTED_SERVER,9}{MEMORY_DEVICE,2}
    |
    +--- {RACK_MOUNTED_SERVER,9}{POWER_MODULE,1}
    |
    +--- {RACK_MOUNTED_SERVER,9}{POWER_MODULE,2}
    |
    +--- {RACK_MOUNTED_SERVER,9}{COOLING_DEVICE,1}
    |
    +--- {RACK_MOUNTED_SERVER,9}{COOLING_DEVICE,2}
    |
    +--- {RACK_MOUNTED_SERVER,9}{COOLING_DEVICE,3}
    |
End of {RACK_MOUNTED_SERVER,9}

DL380 G5

{RACK_MOUNTED_SERVER,10}
    |
    +--- {RACK_MOUNTED_SERVER,10}
    |
    +--- {RACK_MOUNTED_SERVER,10}{PROCESSOR,1}
    |
    +--- {RACK_MOUNTED_SERVER,10}{PROCESSOR,2}
    |
    +--- {RACK_MOUNTED_SERVER,10}{MEMORY_DEVICE,1}
    |
    +--- {RACK_MOUNTED_SERVER,10}{MEMORY_DEVICE,3}
    |
    +--- {RACK_MOUNTED_SERVER,10}{MEMORY_DEVICE,5}
    |
    +--- {RACK_MOUNTED_SERVER,10}{MEMORY_DEVICE,7}
    |
    +--- {RACK_MOUNTED_SERVER,10}{POWER_SUPPLY,1}
    |
    +--- {RACK_MOUNTED_SERVER,10}{POWER_SUPPLY,2}
    |
    +--- {RACK_MOUNTED_SERVER,10}{POWER_MODULE,1}
    |
    +--- {RACK_MOUNTED_SERVER,10}{POWER_MODULE,2}
    |
    +--- {RACK_MOUNTED_SERVER,10}{COOLING_DEVICE,1}
    |
    +--- {RACK_MOUNTED_SERVER,10}{COOLING_DEVICE,2}
    |
    +--- {RACK_MOUNTED_SERVER,10}{COOLING_DEVICE,3}
    |
    +--- {RACK_MOUNTED_SERVER,10}{COOLING_DEVICE,4}
    |
    +--- {RACK_MOUNTED_SERVER,10}{COOLING_DEVICE,5}
    |
    +--- {RACK_MOUNTED_SERVER,10}{COOLING_DEVICE,6}
    |
End of {RACK_MOUNTED_SERVER,10}

DL385 G2

{RACK_MOUNTED_SERVER,11}
    |
    +--- {RACK_MOUNTED_SERVER,11}
    |
    +--- {RACK_MOUNTED_SERVER,11}{PROCESSOR,1}
    |
    +--- {RACK_MOUNTED_SERVER,11}{PROCESSOR,2}
    |
    +--- {RACK_MOUNTED_SERVER,11}{MEMORY_DEVICE,1}
    |
    +--- {RACK_MOUNTED_SERVER,11}{MEMORY_DEVICE,2}
    |
    +--- {RACK_MOUNTED_SERVER,11}{POWER_SUPPLY,1}
    |
    +--- {RACK_MOUNTED_SERVER,11}{POWER_MODULE,1}
    |
    +--- {RACK_MOUNTED_SERVER,11}{COOLING_DEVICE,1}
    |
    +--- {RACK_MOUNTED_SERVER,11}{COOLING_DEVICE,2}
    |
    +--- {RACK_MOUNTED_SERVER,11}{COOLING_DEVICE,3}
    |
    +--- {RACK_MOUNTED_SERVER,11}{COOLING_DEVICE,4}
    |
    +--- {RACK_MOUNTED_SERVER,11}{COOLING_DEVICE,5}
    |
    +--- {RACK_MOUNTED_SERVER,11}{COOLING_DEVICE,6}
    |
End of {RACK_MOUNTED_SERVER,11}
